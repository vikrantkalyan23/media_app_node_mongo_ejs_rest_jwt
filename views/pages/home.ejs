<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home :: Update 24x7</title>
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/styles.css">
</head>

<body>
    <%- include('../partials/header') %>
        <main>
            <div class="container marketing">
                <div class="row text-center mb-3" id="weatherReport">
                    <div class="col-md-3">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Weather</h5>
                                <p>&nbsp;</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Weather Icon</h5>
                                <p>&nbsp;</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Temperature</h5>
                                <p>&nbsp;</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">City Name</h5>
                                <p>&nbsp;</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="myCarousel" class="carousel slide mb-6" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="0" class="active"
                        aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="1"
                        aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="2"
                        aria-label="Slide 3"></button>
                </div>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="/img/slider-2.webp" class="w-100" alt="First Slide">
                    </div>
                    <div class="carousel-item">
                        <img src="/img/slider-1.webp" class="w-100" alt="Second Slide">
                    </div>
                    <div class="carousel-item">
                        <img src="/img/slider-3.jpg" class="w-100" alt="Third Slide">
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#myCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#myCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>

            <div class="container marketing">
                <div class="row">
                    <div class="col-lg-4">
                        <h3 class="fw-normal">Latest News 1</h3>
                        <p>Some representative placeholder content for the three columns of text below the carousel.
                            This is the first column.</p>
                        <p><a class="btn btn-secondary" href="#">View details &raquo;</a></p>
                    </div>
                    <div class="col-lg-4">
                        <h3 class="fw-normal">Latest News 2</h3>
                        <p>Some representative placeholder content for the three columns of text below the carousel.
                            This is the first column.</p>
                        <p><a class="btn btn-secondary" href="#">View details &raquo;</a></p>
                    </div>
                    <div class="col-lg-4">
                        <h3 class="fw-normal">Latest News 3</h3>
                        <p>Some representative placeholder content for the three columns of text below the carousel.
                            This is the first column.</p>
                        <p><a class="btn btn-secondary" href="#">View details &raquo;</a></p>
                    </div>
                </div> 
                <hr class="featurette-divider">
                <div class="row featurette">
                    <div class="col-md-7">
                        <h2 class="featurette-heading fw-normal lh-1">First featurette heading. <span
                                class="text-body-secondary">It`ll blow your mind.</span></h2>
                        <p class="lead">Some great placeholder content for the first featurette here. Imagine some
                            exciting prose here.</p>
                    </div>
                    <div class="col-md-5">
                        <svg class="bd-placeholder-img bd-placeholder-img-lg featurette-image img-fluid mx-auto"
                            width="500" height="500" xmlns="http://www.w3.org/2000/svg" role="img"
                            aria-label="Placeholder: 500x500" preserveAspectRatio="xMidYMid slice" focusable="false">
                            <title>Placeholder</title>
                            <rect width="100%" height="100%" fill="var(--bs-secondary-bg)" /><text x="50%" y="50%"
                                fill="var(--bs-secondary-color)" dy=".3em">500x500</text>
                        </svg>
                    </div>
                </div>

                <hr class="featurette-divider">

                <div class="row featurette">
                    <div class="col-md-7 order-md-2">
                        <h2 class="featurette-heading fw-normal lh-1">Oh yeah, it’s that good. <span
                                class="text-body-secondary">See for yourself.</span></h2>
                        <p class="lead">Another featurette? Of course. More placeholder content here to give you an idea
                            of how this layout would work with some actual real-world content in place.</p>
                    </div>
                    <div class="col-md-5 order-md-1">
                        <svg class="bd-placeholder-img bd-placeholder-img-lg featurette-image img-fluid mx-auto"
                            width="500" height="500" xmlns="http://www.w3.org/2000/svg" role="img"
                            aria-label="Placeholder: 500x500" preserveAspectRatio="xMidYMid slice" focusable="false">
                            <title>Placeholder</title>
                            <rect width="100%" height="100%" fill="var(--bs-secondary-bg)" /><text x="50%" y="50%"
                                fill="var(--bs-secondary-color)" dy=".3em">500x500</text>
                        </svg>
                    </div>
                </div>

                <hr class="featurette-divider">

                <div class="row featurette">
                    <div class="col-md-7">
                        <h2 class="featurette-heading fw-normal lh-1">And lastly, this one. <span
                                class="text-body-secondary">Checkmate.</span></h2>
                        <p class="lead">And yes, this is the last block of representative placeholder content. Again,
                            not really intended to be actually read, simply here to give you a better view of what this
                            would look like with some actual content. Your content.</p>
                    </div>
                    <div class="col-md-5">
                        <svg class="bd-placeholder-img bd-placeholder-img-lg featurette-image img-fluid mx-auto"
                            width="500" height="500" xmlns="http://www.w3.org/2000/svg" role="img"
                            aria-label="Placeholder: 500x500" preserveAspectRatio="xMidYMid slice" focusable="false">
                            <title>Placeholder</title>
                            <rect width="100%" height="100%" fill="var(--bs-secondary-bg)" /><text x="50%" y="50%"
                                fill="var(--bs-secondary-color)" dy=".3em">500x500</text>
                        </svg>
                    </div>
                </div>
            </div>
            <hr class="featurette-divider">
            <div class="container mt-5">
                <h2 class="text-center mb-4">Image Gallery</h2>
                <div class="row g-3">
                    <div class="col-md-4 col-sm-6">
                        <div class="gallery-image">
                            <img src="https://via.placeholder.com/300x200" class="img-fluid rounded" alt="Image 1">
                        </div>
                    </div>
                    <div class="col-md-4 col-sm-6">
                        <div class="gallery-image">
                            <img src="https://via.placeholder.com/300x200" class="img-fluid rounded" alt="Image 2">
                        </div>
                    </div>
                    <div class="col-md-4 col-sm-6">
                        <div class="gallery-image">
                            <img src="https://via.placeholder.com/300x200" class="img-fluid rounded" alt="Image 3">
                        </div>
                    </div>
                    <div class="col-md-4 col-sm-6">
                        <div class="gallery-image">
                            <img src="https://via.placeholder.com/300x200" class="img-fluid rounded" alt="Image 4">
                        </div>
                    </div>
                    <div class="col-md-4 col-sm-6">
                        <div class="gallery-image">
                            <img src="https://via.placeholder.com/300x200" class="img-fluid rounded" alt="Image 5">
                        </div>
                    </div>
                    <div class="col-md-4 col-sm-6">
                        <div class="gallery-image">
                            <img src="https://via.placeholder.com/300x200" class="img-fluid rounded" alt="Image 6">
                        </div>
                    </div>
                </div>
            </div>
        
            <%- include('../partials/footer') %>
            <script>
                const fetchWeather = async () => {
                    if (navigator.geolocation) {
                        navigator.geolocation.getCurrentPosition(async (position) => {
                            const lat = position.coords.latitude;
                            const lon = position.coords.longitude;
            
                            try {
                                const response = await fetch(`/weather?lat=${lat}&lon=${lon}`);
                                const data = await response.json();
                                console.log(data)
                                const weatherReport = `<div class="col-md-3"><div class="card"><div class="card-body"><h5 class="card-title">Weather</h5><p>${data.weather[0].description}</p></div></div></div><div class="col-md-3"><div class="card"><div class="card-body"><h5 class="card-title">Weather Icon</h5><p>&nbsp;</p></div></div></div><div class="col-md-3"><div class="card"><div class="card-body"><h5 class="card-title">Temperature</h5><p>${data.main.temp}°C</p></div></div></div><div class="col-md-3"><div class="card"><div class="card-body"><h5 class="card-title">City Name</h5><p>${data.name}</p></div></div></div>`;
                                document.getElementById('weatherReport').innerHTML = weatherReport;
                            } catch (error) {
                                document.getElementById('weatherReport').innerHTML = 'Error fetching weather data.';
                            }
                        }, () => {
                            document.getElementById('weatherReport').innerHTML = 'Location access denied.';
                        });
                    } else {
                        document.getElementById('weatherReport').innerHTML = 'Geolocation is not supported by this browser.';
                    }
                };
            
                fetchWeather();
            </script>
        </main>
</body>
</html>